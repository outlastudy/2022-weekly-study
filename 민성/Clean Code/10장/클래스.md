### 클래스 체계

클래스를 정의하는 표준 자바 관례에 따르면

1. 정적 공개 상수
2. 정적 비공개 변수
3. 공개 변수 (필요한 경우는 거의 없다.)
4. 공개 함수
5. 비공개 함수 (자신을 호출하는 공개 함수 직후에 넣는다.)

즉 추상화 단계가 순차적으로 내려가고 프로그램은 신문 기사처럼 읽힌다.

**캡슐화**

- 변수와 유틸리티 함수는 가능한 공개하지 않는 편이 낫지만 반드시 숨겨야 한다는 법칙도 없다.
- 때로는 변수나 유틸리티 함수를 protected로 선언해 테스트 코드에 접근을 허용하기도 한다.
- 하지만 그 전에 비공개 상태를 유지할 온갖 방법을 강구한다. 캡슐화를 풀어주는 결정은 언제나 최후의 수단이다.

### 클래스는 작아야 한다.

***클래스를 만들 때 첫 번째 규칙은 '크기'다. 클래스는 작아야 한다. 두 번째 규칙도 '크기'다. 더 작아야 한다.***

클래스를 설계할 때도, 함수와 마찬가지로 '작게'가 기본 규칙이라는 의미다. 함수는 물리적인 행 수로 크기를 측정했다. 반면 클래스는 맡은 책임을 척도로 크기를 측정한다. 또한 클래스 이름은 해당 클래스 책임을 기술해야 한다. 가령 클래스 이름에 Processor, Manager, Super 등과 같은 모호한 단어가 있다면 클래스에 여러 책임을 떠안겼다는 증거다.

***클래스 설명은 만일, 그리고, 하며, 하지만을 사용하지 않고 25단어 내외로 가능해야 한다.***

**단일 책임 원칙**

- 단일 책임 원칙은 클래스나 모듈을 변경할 이유가 하나, 단 하나뿐이어야 한다는 원칙이다.  
- 책임, 즉 변경할 이유를 파악하려 애쓰다 보면 코드를 추상화하기도 쉬워진다. 
-  소프트웨어를 돌아가게 만드는 활동과 소프트웨어를 깨끗하게 만드는 활동은 완전히 별개이기 때문에 단일 책임 원칙을 무시하지 않도록 주의하자

**응집도**

클래스는 인스턴스 변수 수가 작아야 한다. 각 클래스 메서드는 클래스 인스턴스 변수를 하나 이상 사용해야 한다. 일반적으로 메서드가 변수를 더 많이 사용할수록 메서드와 클래스는 응집도가 더 높다. 모든 인스턴스 변수를 메서드마다 사용하는 클래스는 응집도가 가장 높다.  

응집도가 높다 -> 클래스에 속한 메서드와 변수가 서로 의존하며 논리적인 단위로 묶인다는 의미  

인스턴스 변수가 많아지면 새로운 클래스로 쪼갬 -> 작은 클래스 여럿이 나옴  
***클래스가 응집력을 잃는다면 쪼개라!***  

**변경하기 쉬운 클래스**

깨끗한 시스템은 클래스를 체계적으로 정리해 변경에 수반하는 위험을 낮춘다. 각 클래스는 극도로 단순하고 코드는 순식간에 이해될 수 있어야 한다.

**변경으로부터의 격리**

요구사항은 변하고 코드도 변한다. 구체적인 클래스는 상세한 구현을 포함하며 추상 클래스는 개념만 포함하므로, 상세한 구현에 의존하는 클라이언트 클래스는 구현이 바뀌면 위험에 빠진다.  

***따라서 우리는 인터페이스와 추상 클래스를 사용해 구현에 미치는 영향을 격리한다.***  

테스트가 가능할 정도로 시스템의 결합도를 낮추면 유연성과 재사용성도 높아진다. 결합도가 낮다는 것은 각 시스템 요소가 다른 요소로부터그리고 변경으로부터 잘 격리되어 있다는 의미이다.  시스템 요소가 서로 잘 격리되어 있으면 각 요소를 이해하기도 더 쉬워진다.  

이렇게 결합도를 최소로 줄이면, 또 다른 설계 원칙인 DIP(Dependency Inversion Principle)를 따르는 클래스가 나온다. 이것은 클래스가 상세한 구현이 아니라 추상화에 의존해야 한다는 원칙이다.

#
